"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Registor=function(){function e(){_classCallCheck(this,e),this.uname=this.$("#txtRegUserName"),this.upwd=this.$("#txtRegPassword"),this.okwd=this.$("#txtRePassword"),this.uemail=this.$("#txtEmail"),this.uyzm=this.$("#txtVerifyCode"),this.reg=this.$("#btnUserRegSubmit"),this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var n=this;this.uname.onblur=function(){var e=n.uname.value;/^[\u4e00-\u9fa5]{3,30}$/.test(e)||(alert("用户名的长度应为3～30个字符之间！"),n.uname.value="")},this.upwd.onblur=function(){var e=n.upwd.value;/^\w{6,16}$/.test(e)||(alert("密码的长度应该为6～16个字符之间！"),n.upwd.value="")},this.okwd.onblur=function(){n.upwd.value!==n.okwd.value&&(alert("两次密码不一致！"),n.okwd.value="")},this.uemail.onblur=function(){var e=n.uemail.value;/^[a-zA-Z0-9_.-]+@(126|163|qq)\.(com|cn)$/.test(e)||(alert("必须是126、163、qq邮箱中的一种，必须是.com或者.cn结尾"),n.uemail.value="")},this.uyzm.onblur=function(){var e=n.uyzm.value;/^(3536)$/.test(e)||(alert("验证码错误"),n.uyzm.value="")},this.reg.onclick=function(){var e,t,a,l;n.uname.value&&n.upwd.value&&n.okwd.value&&n.uemail.value&&n.uyzm.value?(e=n.uname.value,t=n.upwd.value,a=$getCookie("registors")?$getCookie("registors"):"",e in(l=convertStrToObj(a))?alert("用户名已存在！"):(l[e]=t,$cookie("registors",JSON.stringify(l),{expires:7,path:"/"}),n.uname.value=n.upwd.value=n.okwd.value=n.uemail.value=n.uyzm.value="",alert("注册成功"))):alert("信息不能为空！")}}},{key:"$",value:function(e){return document.querySelector(e)}}]),e}(),Login=function(){function e(){_classCallCheck(this,e),this.lname=this.$("#lname"),this.lpwd=this.$("#lpwd"),this.lyzm=this.$("#lyzm"),this.login=this.$("#btnLogin"),this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var n=this;this.lname.onblur=function(){var e=n.lname.value;/^[\u4e00-\u9fa5]{3,30}$/.test(e)||(alert("用户名的长度应为3～30个字符之间！"),n.lname.value="")},this.lpwd.onblur=function(){var e=n.lpwd.value;/^\w{6,16}$/.test(e)||(alert("密码的长度应该为6～16个字符之间！"),n.lpwd.value="")},this.lyzm.onblur=function(){var e=n.lyzm.value;/^(7955)$/.test(e)||(alert("验证码错误"),n.lyzm.value="")},this.login.onclick=function(){var e=n.lname.value,t=n.lpwd.value,a=$getCookie("registors")?$getCookie("registors"):"",l=convertStrToObj(a);e in l?t===l[e]?(alert("登录成功！"),location.href="http://localhost/no5product/dist/index.html"):alert("密码错误！"):(alert("用户名不存在，去注册！"),n.lname.value=n.lpwd.value="")}}},{key:"$",value:function(e){return document.querySelector(e)}}]),e}();window.onload=function(){new Registor,new Login};